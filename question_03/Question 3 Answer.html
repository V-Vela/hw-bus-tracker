<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Add a default marker</title>
<meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no">
<link href="https://api.mapbox.com/mapbox-gl-js/v2.7.0/mapbox-gl.css" rel="stylesheet">
<script src="https://api.mapbox.com/mapbox-gl-js/v2.7.0/mapbox-gl.js"></script>
<style>
    body { margin: 0; padding: 0; }
    #map { position: absolute; top: 0; bottom: 0; width: 100%; }
    .map-overlay{
        position: absolute;
        left: 0;
        padding: 10px;
    }
</style>
</head>
<body>

<div id="map"></div>
<div class="map-overlay top">
    <button style="font-size: 2em;" onclick="move()">
        Bus Stops on Route 111: Woodlawn - Haymarket Station
    </button>
</div>

<script>
	mapboxgl.accessToken = 'pk.eyJ1Ijoidi12ZWxhIiwiYSI6ImNremVrcHU5MzAxZzUybm8zMGdiYnQwemcifQ.D5WQu01YcEqlCrw6SeXmOg';

var map = new mapboxgl.Map({
    container: 'map',
    style: 'mapbox://styles/mapbox/streets-v11',
    center: [-71.0474, 42.3850],
    zoom: 12
});

var marker = new mapboxgl.Marker()
    .setLngLat([-71.0568, 42.3622])
    .addTo(map);

    const busStops = [
        [-71.0568, 42.3622],
        [-71.0582, 42.3646],
        [-71.0423, 42.3887],
        [-71.0406, 42.3890],
        [-71.0377, 42.3897],
        [-71.0357, 42.3903],
        [-71.0341, 42.3926],
        [-71.0328, 42.3940],
        [-71.0326, 42.3958],
        [-71.030839, 42.398055],
        [-71.030987, 42.398034],
        [-71.032191, 42.399386],
        [-71.0394121, 42.3943255],
        [-71.0352, 42.4021],
        [-71.0361, 42.4031],
        [-71.0354, 42.4048],
        [-71.0330, 42.4049],
        [-71.02999, 42.40528],
        [-71.0294, 42.4063],
        [-71.029482, 42.408036],
        [-71.0299, 42.4093],
        [-71.031308, 42.411267],
        [-71.0314, 42.4112],
        [-71.032440, 42.415436],
        [-71.033138, 42.415684]
    ];

var counter = 0;
function move(){
    setTimeout(() =>{
        if (counter >= busStops.length) return;
        marker.setLngLat(busStops[counter]);
        counter++;
        move();
    }, 1000);
}


</script>
 
</body>
</html>